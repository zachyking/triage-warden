# Triage Warden Environment Configuration
# Copy this file to .env and configure all values

# ===========================================
# Database Configuration
# ===========================================
# PostgreSQL connection string
DATABASE_URL=postgres://user:password@localhost:5432/triage_warden?sslmode=require

# Connection pool settings
DATABASE_MAX_CONNECTIONS=25
DATABASE_MIN_CONNECTIONS=5

# ===========================================
# Security - REQUIRED
# ===========================================
# Generate with: openssl rand -base64 32
TW_ENCRYPTION_KEY=

# Generate with: openssl rand -hex 32
TW_JWT_SECRET=
TW_SESSION_SECRET=

# ===========================================
# Server Configuration
# ===========================================
# Public URL (include https:// for production)
TW_BASE_URL=https://triage.company.com

# Environment (production, development)
TW_ENV=production

# Trusted proxy IPs (comma-separated, for X-Forwarded-For handling)
TW_TRUSTED_PROXIES=10.0.0.0/8,172.16.0.0/12

# CORS allowed origins (comma-separated, leave empty for same-origin only)
TW_CORS_ALLOWED_ORIGINS=

# Session security (defaults to true in production)
TW_SESSION_SECURE=true

# Request body size limit in bytes (default: 10MB)
TW_REQUEST_BODY_LIMIT=10485760

# Enable Swagger UI (defaults to false in production)
TW_ENABLE_SWAGGER=false

# ===========================================
# LLM Configuration
# ===========================================
# Provider: anthropic, openai, azure, local
TW_LLM_PROVIDER=anthropic
TW_LLM_MODEL=claude-3-sonnet-20240229

# API Keys (set the one matching your provider)
ANTHROPIC_API_KEY=
OPENAI_API_KEY=
AZURE_OPENAI_API_KEY=
AZURE_OPENAI_ENDPOINT=

# ===========================================
# Logging
# ===========================================
# Log levels: error, warn, info, debug, trace
RUST_LOG=info

# Log format: json or pretty
TW_LOG_FORMAT=json

# ===========================================
# Optional: Webhook Secrets
# ===========================================
TW_WEBHOOK_SECRET=
TW_WEBHOOK_SPLUNK_SECRET=
TW_WEBHOOK_CROWDSTRIKE_SECRET=

# ===========================================
# Optional: Feature Flags
# ===========================================
TW_FEATURE_PLAYBOOKS=true
TW_FEATURE_AUTO_ENRICH=true
TW_FEATURE_API_KEYS=true
